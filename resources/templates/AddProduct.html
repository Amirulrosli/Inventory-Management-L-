<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>AddProduct</title>
<link rel="stylesheet" href="css/fontawesome.min.css" />
<link rel="stylesheet" href="css/bootstrap.min.css" />
<link rel="stylesheet" href="css/templatemo-style.css">
<link href="css/tailwind.min.css" rel="stylesheet">
</head>
<body>
	<div>
		<nav class="navbar navbar-expand-xl">
			<div class="container h-100">
				<a class="navbar-brand" href="/adminSearch">
					<h1>Inventory Management System</h1>
				</a>
				<ul>
					<li class="mr-3"><a
						class="inline-block border border-blue-500 rounded py-2 px-4 bg-blue-500 hover:bg-blue-700 text-white"
						href="/">logout</a></li>
				</ul>

			</div>


		</nav>
		<ul class="flex justify-between">
			<li class="mr-3"><a
				class="inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4"
				href="/adminSearch">Search Product</a></li>
			<li class="mr-3"><a
				class="inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4"
				href="/CashierAdmin">Cashier API</a></li>
			<li class="mr-3"><a
				class="inline-block border border-blue-500 rounded py-2 px-4 bg-blue-500 hover:bg-blue-700 text-white"
				href="#">Add/Update Product</a></li>
			<li class="mr-3"><a
				class="inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4"
				href="/List">List Products and Calculation</a></li>
			<li class="mr-3"><a
				class="inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4"
				href="/usermanage">User Management</a></li>

			<li class="mr-3"><a
				class="inline-block border border-white rounded hover:border-gray-200 text-blue-500 hover:bg-gray-200 py-2 px-4"
				href="/logs">Users Logs</a></li>

		</ul>
	</div>
	<div
		class="bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3"
		role="alert">
		<p class="font-bold">Welcome to Products Management</p>
		<p class="text-sm">User can Add/Update products from this page as
			Administrator.</p>
	</div>

	<div class="flex content-start flex-wrap container mx-auto inline-block">

		<div
			class="modal-open transition duration-500 ease-in-out max-w-sm rounded overflow-hidden shadow-lg mr-10 mx-40 mt-10 hover: transform hover:-translate-y-1 hover:scale-110">
			<img class="w-50 mx-auto" src="/img/plus.png"
				alt="Sunset in the mountains">
			<div class="px-6 py-4">
				<div class="font-bold text-xl mb-2">Add / Create Product</div>
				<p class="text-gray-700 text-base">Add or Create Product to the
					Database.</p>
			</div>
			<div class="px-6 py-4">
				<span
					class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#Create</span>
				<span
					class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#Add</span>
				<span
					class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700">#New</span>
			</div>
		</div>


		<div
			class="transition duration-500 ease-in-out max-w-sm rounded overflow-hidden shadow-lg  mr-10 mx-40 mt-10 hover: transform hover:-translate-y-1 hover:scale-110">
			<a href="#updateSearch"><img class="w-50 mx-auto"
				src="/img/update.png" alt="Sunset in the mountains"> </a>
			<div class="px-6 py-4">
				<p>
					<a href="#updateSearch" class="font-bold text-xl mb-2">Update
						Products</a>
				<p>
					<br>
				<p>
					<a href="#updateSearch" class="text-gray-700 text-base">Update
						or Change product from the Database.</a>
				</p>
			</div>
			<div class="px-6 py-4">
				<a href="#updateSearch"> <span
					class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#Update</span>
					<span
					class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2">#Change</span>
					<span
					class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700">#Entity</span>
				</a>
			</div>
		</div>


	</div>

	<br>
	<div
		class="bg-teal-100 border-t-4 border-teal-500 rounded-b text-teal-900 px-4 py-3 shadow-md mx-auto w-50"
		role="alert">
		<div class="flex">
			<div class="py-1">
				<svg class="fill-current h-6 w-6 text-teal-500 mr-4"
					xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
					<path
						d="M2.93 17.07A10 10 0 1 1 17.07 2.93 10 10 0 0 1 2.93 17.07zm12.73-1.41A8 8 0 1 0 4.34 4.34a8 8 0 0 0 11.32 11.32zM9 11V9h2v6H9v-4zm0-6h2v2H9V5z" /></svg>
			</div>
			<div class="mt-1" th:if="${successful==true}">
				<p class="text-green-500 font-bold">Add new Product Successful!</p>
			</div>

			<div class="mt-1" th:if="${failed==true}">
				<p class="text-red-500 font-bold" th:if="${failed==true}">Add
					new Product failed!</p>
			</div>

			<div class="mt-1" th:if="${exist==true}">
				<p class="text-red-500 font-bold" th:text="${Message}">Product
					is already Available!</p>
				<p>Please select add/Update to Continue.</p>
			</div>

		</div>
	</div>






	<!-- ADD PRODUCT MODAL -->

	<div
		class="overflow-hidden modal opacity-0 pointer-events-none fixed w-full h-full top-10 left-30 flex items-center justify-center">


		<div
			class="overflow-hidden modal-container bg-white w-11/12 md:max-w-md  rounded shadow-lg ">

			<div
				class="modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-0">
				<svg class="fill-current text-white"
					xmlns="http://www.w3.org/2000/svg" width="18" height="18"
					viewBox="0 0 18 18">
          <path
						d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
        </svg>
				<span class="text-sm">(Esc)</span>
			</div>

			<!-- Add margin if you want to see some of the overlay behind the modal-->
			<div id="modalContent" class=" py-4 text-left px-6 overflow-hidden">
				<!--Title-->
				<div class="flex justify-between items-center pb-3">
					<p class="text-2xl font-bold">Add / Create Product</p>
					<div class="modal-close cursor-pointer z-50">
						<svg class="fill-current text-black"
							xmlns="http://www.w3.org/2000/svg" width="18" height="18"
							viewBox="0 0 18 18">
              <path
								d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
            </svg>
					</div>
				</div>

				<!-- Form For Add product -->
				<div class="content1 .overflow-hidden">
					<form class="w-full max-w-lg" method="GET">
						<div class="flex flex-wrap -mx-3 mb-6">
							<div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
								<label
									class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
									for="grid-first-name"> Product ID </label> <input
									class="appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
									id="grid-first-name" type="text" placeholder="Number Only (ID)"
									name="id">

							</div>
							<div class="w-full md:w-1/2 px-3">
								<label
									class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
									for="grid-last-name"> Quantity </label> <input
									class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
									id="grid-last-name" type="text" placeholder="Pcs"
									name="quantity">
							</div>
						</div>
						<div class="flex flex-wrap -mx-3 mb-6">
							<div class="w-full px-3">
								<label
									class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
									for="grid-password"> Brand Name </label> <input
									class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
									id="grid-password" type="text" placeholder="Brand Name"
									name="brand">

							</div>
						</div>
						<div class="flex flex-wrap -mx-3 mb-2 ">
							<div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
								<label
									class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
									for="grid-city"> Price </label> <input
									class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
									id="grid-city" type="text" placeholder="$" name="price">
							</div>
							<div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
								<label
									class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
									for="grid-state"> Discount </label> <input
									class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
									id="grid-zip" type="text" placeholder="%" name="discount">

							</div>
							<div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
								<label
									class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
									for="grid-zip"> Date </label> <input
									class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
									id="grid-zip" type="text" placeholder="yy/mm/dd" name="date">
							</div>
						</div>


						<button
							class="px-4 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2"
							type="submit">Add</button>
						<button
							class="modal-close px-4 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400">Close</button>

					</form>


				</div>
				<!--Footer-->
				<div id="modalOverlay"
					class="overflow-hidden absolute w-full h-full"></div>

			</div>
		</div>
	</div>

	<script>
		var openmodal = document.querySelectorAll('.modal-open')
		for (var i = 0; i < openmodal.length; i++) {
			openmodal[i].addEventListener('click', function(event) {
				event.preventDefault()
				toggleModal()
			})
		}

		const overlay = document.querySelector('#modalOverlay')
		overlay.addEventListener('click', toggleModal)

		var closemodal = document.querySelectorAll('.modal-close')
		for (var i = 0; i < closemodal.length; i++) {
			closemodal[i].addEventListener('click', toggleModal)
		}

		document.onkeydown = function(evt) {
			evt = evt || window.event
			var isEscape = false
			if ("key" in evt) {
				isEscape = (evt.key === "Escape" || evt.key === "Esc")
			} else {
				isEscape = (evt.keyCode === 27)
			}
			if (isEscape && document.body.classList.contains('modal-active')) {
				toggleModal()
			}
		};

		function toggleModal() {
			const body = document.querySelector('.content1')
			const modal = document.querySelector('.modal')
			modal.classList.toggle('opacity-0')
			modal.classList.toggle('pointer-events-none')
			body.classList.toggle('modal-active')
		}
	</script>

	<!-- UPDATE PRODUCT -->
	<br>
	<br>
	<div
		class="bg-green-100 border-t border-b border-green-500 text-blue-700 px-4 py-3"
		role="alert">
		<p class="font-bold" align="center">Update Product</p>
		<p class="text-sm" align="center">User can Update product details
			from this section as an Administrator.</p>
	</div>
	<br>
	<br>

	<form class="w-full max-w-lg  mx-auto mt-10 mb-10" method="GET">
		<div
			class="mx-auto w-full max-w-sm flex items-center border-b border-b-2 border-teal-500 py-2">
			<input
				class="appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"
				type="text" placeholder="Enter Product ID" aria-label="Full name"
				name="search" th:value="${id}">

			<button id="updateSearch"
				class="flex-shrink-0 bg-blue-500 hover:bg-teal-700 border-blue-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded"
				type="submit">Search</button>
			<button
				class="flex-shrink-0 border-transparent border-4 text-teal-500 hover:text-teal-800 text-sm py-1 px-2 rounded"
				type="button">Cancel</button>
		</div>



		<div class="mt-10" th:if="${show==true}">
			<div class="flex flex-wrap -mx-3 mb-6">
				<div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
					<label
						class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
						for="grid-first-name"> Product ID</label> <input
						class="appearance-none block w-full bg-red-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
						id="grid-first-name" type="text" placeholder="Id" name="UPid"
						th:value="${id}" disabled>
					<p class="text-xs text-red-300">Product ID update (Not
						Recommended)</p>

				</div>
				<div class="w-full md:w-1/2 px-3">
					<label
						class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
						for="grid-last-name"> Quantity </label> <input
						class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
						id="grid-last-name" type="text" placeholder="Pcs"
						name="UPquantity" th:value="${quantity}">
				</div>
			</div>
			<div class="flex flex-wrap -mx-3 mb-6">
				<div class="w-full px-3">
					<label
						class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
						for="grid-password"> Brand Name </label> <input
						class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
						id="grid-password" type="text" placeholder="Brand Name"
						name="UPbrand" th:value="${brand}">

				</div>
			</div>
			<div class="flex flex-wrap -mx-3 mb-2">
				<div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
					<label
						class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
						for="grid-city"> Price </label> <input
						class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
						id="grid-city" type="text" placeholder="$" name="UPprice"
						th:value="${price}">
				</div>
				<div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
					<label
						class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
						for="grid-state"> Discount </label> <input
						class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
						id="grid-zip" type="text" placeholder="%" name="UPdiscount"
						th:value="${discount}">

				</div>
				<div class="w-full md:w-1/3 px-3 mb-6 md:mb-0">
					<label
						class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
						for="grid-zip"> Date </label> <input
						class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
						id="grid-zip" type="text" placeholder="yy/mm/dd" name="UPdate"
						th:value="${date}">
				</div>
			</div>


			<button id="update-button"
				class="px-4 bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2"
				type="submit" name="upbutton">Update</button>
			<a href="/addProduct"></a><button
				type="button" class="px-4 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400">Close</button>
		</div>
	</form>
	<p class=" text-blue-500 font-bold text-m" align="center"
		th:text="${warn}"></p>
	<br>
	<p class=" text-green-500 font-bold text-m" align="center"
		th:if="${UPsuccessful==true}">Product Updated</p>
	<br>
	<p class=" text-red-500 font-bold text-m" align="center"
		th:if="${UPfailed==true}">Products Failed to update</p>
	<br>


</body>
</html>