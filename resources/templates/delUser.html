<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="ISO-8859-1">
<title>Delete User Account</title>
<link rel="stylesheet" href="css/fontawesome.min.css" />
<link rel="stylesheet" href="css/bootstrap.min.css" />
<link rel="stylesheet" href="css/templatemo-style.css">
<link href="css/tailwind.min.css" rel="stylesheet">
</head>
<body>

	<div>
		<nav class="navbar navbar-expand-xl">
			<div class="container h-100">
				<a class="navbar-brand" href="/adminSearch">
					<h1>Inventory Management System</h1>
				</a>
				<ul>
					<li class="mr-3"><a
						class="inline-block border border-blue-500 rounded py-2 px-4 bg-blue-500 hover:bg-blue-700 text-white"
						href="/">logout</a></li>
				</ul>

			</div>
		</nav>
	</div>
	<div
		class="bg-blue-100 border-t border-b border-blue-500 text-blue-700 px-4 py-3"
		role="alert">
		<p class="font-bold">Delete User Account Section</p>
		<p class="text-sm">
			User will be able to delete User / Administrator Account From
			Database <a href="#"
				class="no-underline hover:underline text-teal-500">Here</a>.
		</p>
	</div>
	<a href="/usermanage"><button
			class=" mt-10 ml-10 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full">
			Go Back</button></a>
	<br>
	<div
		class="mx-auto w-50 bg-orange-100 border-l-4 border-orange-500 text-orange-700 p-4"
		role="alert">
		<p class="font-bold">Warning</p>
		<p>The delete action is irreversible!.</p>
	</div>
	<br>

	<form method="POST">
		<div
			class="mx-auto w-full max-w-sm flex items-center border-b border-b-2 border-teal-500 py-2">
			<input
				class="appearance-none bg-transparent border-none w-full text-gray-700 mr-3 py-1 px-2 leading-tight focus:outline-none"
				type="text" placeholder="Enter Username" aria-label="Full name"
				name="search" th:value="${id}">

			<button id="updateSearch"
				class="flex-shrink-0 bg-blue-500 hover:bg-teal-700 border-blue-500 hover:border-teal-700 text-sm border-4 text-white py-1 px-2 rounded"
				type="submit">Search</button>
			<button
				class="flex-shrink-0 border-transparent border-4 text-teal-500 hover:text-teal-800 text-sm py-1 px-2 rounded"
				type="button">Cancel</button>

		</div>
		<p align="center" class="mt-2 text-blue-500 text-m font-bold"
			th:text="${warn}"></p>



		<div
			class="mt-10 mx-auto w-50 bg-red-100 border-t border-b border-red-500 text-blue-700 px-4 py-3"
			role="alert" th:if="${showExist==true}">
			<p align="center" class=" text-red-500 text-m font-bold"
			th:text="${exist}"></p>
			<p align="center" class="text-sm" th:text="${result}"></p>
		</div>
		

		<div th:if="${showAdmin==true}">
			<table class="table-auto mx-auto mt-10">
				<thead>
					<tr>
						<td class="px-4 py-2 text-xl">ID</td>
						<td class="px-4 py-2 text-xl">Username</td>
						<td class="px-4 py-2 text-xl">Password</td>
						<td class="px-4 py-2 text-xl">Privilege</td>
						<td class="px-4 py-2 text-xl">Date Login</td>
						<td class="px-4 py-2 text-xl">Rid (Admin Auth)</td>
					</tr>
				</thead>
				<tbody>
					<tr th:each="admin:${admin}">
						<td th:text="${admin.id}" class="border px-4 py-2"></td>
						<td th:text="${admin.userName}" class="border px-4 py-2"></td>
						<td th:text="${admin.userPassword}" class="border px-4 py-2"></td>
						<td th:text="${privilege}" class="border px-4 py-2"></td>
						<td th:text="${admin.date}" class="border px-4 py-2"></td>
						<td th:text="${admin.Rid}" class="border px-4 py-2"></td>
					</tr>
					<tr>


						<td><a href="/delProduct"><button
									class="modal-open mt-10 inline-block bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded mx-auto">
									Delete</button></a></td>

					</tr>
				</tbody>

			</table>
		</div>

		<div th:if="${showUser==true}">
			<table class="table-auto mx-auto mt-10">
				<thead>
					<tr>
						<td class="px-4 py-2 text-xl">ID</td>
						<td class="px-4 py-2 text-xl">Username</td>
						<td class="px-4 py-2 text-xl">Password</td>
						<td class="px-4 py-2 text-xl">Privilege</td>
						<td class="px-4 py-2 text-xl">Commission ($)</td>
						<td class="px-4 py-2 text-xl">%</td>
						<td class="px-4 py-2 text-xl">Date Login</td>

					</tr>
				</thead>
				<tbody>
					<tr th:each="user:${user}">
						<td th:text="${user.id}" class="border px-4 py-2"></td>
						<td th:text="${user.userName}" class="border px-4 py-2"></td>
						<td th:text="${user.userPassword}" class="border px-4 py-2"></td>
						<td th:text="${privilege}" class="border px-4 py-2"></td>
						<td th:text="${user.totalCommission}" class="border px-4 py-2"></td>
						<td th:text="${user.commission}" class="border px-4 py-2"></td>
						<td th:text="${user.date}" class="border px-4 py-2"></td>

					</tr>
					<tr>


						<td><a href="/delProduct"><button
									class="modal-open mt-10 inline-block bg-blue-500 hover:bg-blue-400 text-white font-bold py-2 px-4 border-b-4 border-blue-700 hover:border-blue-500 rounded mx-auto">
									Delete</button></a></td>

					</tr>
				</tbody>

			</table>
		</div>

	</form>

	<div
		class="overflow-hidden modal opacity-0 pointer-events-none fixed w-full h-full top-10 left-30 flex items-center justify-center">


		<div
			class="overflow-hidden modal-container bg-white w-11/12 md:max-w-md  rounded shadow-lg ">

			<div
				class="modal-close absolute top-0 right-0 cursor-pointer flex flex-col items-center mt-4 mr-4 text-white text-sm z-0">
				<svg class="fill-current text-white"
					xmlns="http://www.w3.org/2000/svg" width="18" height="18"
					viewBox="0 0 18 18">
          <path
						d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
        </svg>
				<span class="text-sm">(Esc)</span>
			</div>

			<!-- Add margin if you want to see some of the overlay behind the modal-->
			<div id="modalContent" class=" py-4 text-left px-6 overflow-hidden">
				<!--Title-->
				<div class="flex justify-between items-center pb-3">
					<p class="text-2xl font-bold text-red-500">Warning! Delete User
						Account</p>
					<div class="modal-close cursor-pointer z-50">
						<svg class="fill-current text-black"
							xmlns="http://www.w3.org/2000/svg" width="18" height="18"
							viewBox="0 0 18 18">
              <path
								d="M14.53 4.53l-1.06-1.06L9 7.94 4.53 3.47 3.47 4.53 7.94 9l-4.47 4.47 1.06 1.06L9 10.06l4.47 4.47 1.06-1.06L10.06 9z"></path>
            </svg>
					</div>
				</div>

				<!-- Form For del user -->
				<div class="content1 .overflow-hidden mx-auto">
					<form class="w-full max-w-lg" method="POST">
						<p class="mt-2 text-l text-blue-500 font-bold">Are you sure
							you want to permanently delete this User Account?</p>

						<p class="mt-3 text-s">This Action is irreversible!</p>

						<p>
							Username: <span th:text="${name}"></span>
						</p>
						<br> <br> <label class="text-m text-green-500">Please
							enter The Admin RID below For Verification!</label> <input
							class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
							id="grid-password" type="password" placeholder="ID" name="IDID">

						<button
							class="mr-5 px-4 border bg-transparent p-3 rounded-lg text-indigo-500 hover:bg-gray-100 hover:text-indigo-400 mr-2"
							type="submit">Delete</button>
						<button
							class="mr-3 modal-close px-4 bg-indigo-500 p-3 rounded-lg text-white hover:bg-indigo-400">Cancel</button>


					</form>
				</div>
				<!--Footer-->
				<div id="modalOverlay"
					class="overflow-hidden absolute w-full h-full"></div>

			</div>
		</div>
	</div>

	<script>
		var openmodal = document.querySelectorAll('.modal-open')
		for (var i = 0; i < openmodal.length; i++) {
			openmodal[i].addEventListener('click', function(event) {
				event.preventDefault()
				toggleModal()
			})
		}

		const overlay = document.querySelector('#modalOverlay')
		overlay.addEventListener('click', toggleModal)

		var closemodal = document.querySelectorAll('.modal-close')
		for (var i = 0; i < closemodal.length; i++) {
			closemodal[i].addEventListener('click', toggleModal)
		}

		document.onkeydown = function(evt) {
			evt = evt || window.event
			var isEscape = false
			if ("key" in evt) {
				isEscape = (evt.key === "Escape" || evt.key === "Esc")
			} else {
				isEscape = (evt.keyCode === 27)
			}
			if (isEscape && document.body.classList.contains('modal-active')) {
				toggleModal()
			}
		};

		function toggleModal() {
			const body = document.querySelector('.content1')
			const modal = document.querySelector('.modal')
			modal.classList.toggle('opacity-0')
			modal.classList.toggle('pointer-events-none')
			body.classList.toggle('modal-active')
		}
	</script>


	<div th:if="${delSuccess==true}"
		class="w-30 mt-10 flex items-center bg-blue-500 text-white text-sm font-bold px-4 py-3"
		role="alert">
		<svg class="fill-current w-4 h-4 mr-2"
			xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
			<path
				d="M12.432 0c1.34 0 2.01.912 2.01 1.957 0 1.305-1.164 2.512-2.679 2.512-1.269 0-2.009-.75-1.974-1.99C9.789 1.436 10.67 0 12.432 0zM8.309 20c-1.058 0-1.833-.652-1.093-3.524l1.214-5.092c.211-.814.246-1.141 0-1.141-.317 0-1.689.562-2.502 1.117l-.528-.88c2.572-2.186 5.531-3.467 6.801-3.467 1.057 0 1.233 1.273.705 3.23l-1.391 5.352c-.246.945-.141 1.271.106 1.271.317 0 1.357-.392 2.379-1.207l.6.814C12.098 19.02 9.365 20 8.309 20z" /></svg>
		<p th:if="${delSuccess==true}">User Account Deleted.</p>
	</div>

	<div
		class="mx-auto mt-10 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"
		role="alert" th:if="${delFail==true}">
		<strong class="font-bold" th:if="${delFail==true}">Invalid
			ID! </strong> <span class="block sm:inline" th:if="${delFail==true}">Please
			enter a valid ID.</span> <span
			class="absolute top-0 bottom-0 right-0 px-4 py-3"> <svg
				class="fill-current h-6 w-6 text-red-500" role="button"
				xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
				<title>Close</title><path
					d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" /></svg>
		</span>
	</div>
	
	
	
	<div
		class="mx-auto mt-10 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative"
		role="alert" th:if="${delFail==true}">
		<strong class="font-bold" th:if="${enter==true}">Invalid
			ID! </strong> <span class="block sm:inline" th:if="${delFail==true}">Please
			enter a valid AdminID.</span> <span
			class="absolute top-0 bottom-0 right-0 px-4 py-3"> <svg
				class="fill-current h-6 w-6 text-red-500" role="button"
				xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
				<title>Close</title><path
					d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" /></svg>
		</span>
	</div>

</body>
</html>